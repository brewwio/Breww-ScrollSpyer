!function(t,o){"object"==typeof exports&&"object"==typeof module?module.exports=o():"function"==typeof define&&define.amd?define("SpyScroller",[],o):"object"==typeof exports?exports.SpyScroller=o():t.SpyScroller=o()}(this,(()=>(()=>{"use strict";var t,o={d:(t,e)=>{for(var n in e)o.o(e,n)&&!o.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},o:(t,o)=>Object.prototype.hasOwnProperty.call(t,o),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},e={};function n(t,o){return null!=o&&"undefined"!=typeof Symbol&&o[Symbol.hasInstance]?!!o[Symbol.hasInstance](t):t instanceof o}o.r(e),o.d(e,{ErrorMessages:()=>t,SpyScroller:()=>i}),function(t){t.INVALID_NUMBER="Number must be greater then 1"}(t||(t={}));var i=function(){var t=function(t,o){void 0===t&&(t="#navMain"),void 0===o&&(o={});var e,i,r,s,l,c,a,u,p,f,d,h=this;if(this.isLastSection=!1,!t)throw new Error("First argument cannot be empty");if("string"!=typeof t&&!n(t,HTMLElement))throw new TypeError("menu can be either string or an instance of HTMLElement");if("object"!=typeof o)throw new TypeError("options can only be of type object");if(this.menuList=n(t,HTMLElement)?t:document.querySelector(t),!this.menuList)throw new Error('No menu element found for selector "'.concat(t,'"'));this.options={sectionSelector:null!==(e=o.sectionSelector)&&void 0!==e?e:"section",targetSelector:null!==(i=o.targetSelector)&&void 0!==i?i:"a",topOffset:null!==(r=o.topOffset)&&void 0!==r?r:0,hrefAttribute:null!==(s=o.hrefAttribute)&&void 0!==s?s:"href",activeClass:Array.isArray(o.activeClass)?o.activeClass:["active"],onLastScrollInView:null!==(l=o.onLastScrollInView)&&void 0!==l?l:null,onFirstScrollInView:null!==(c=o.onFirstScrollInView)&&void 0!==c?c:null,opacity:{enabled:null!==(u=null===(a=o.opacity)||void 0===a?void 0:a.enabled)&&void 0!==u&&u,opacityDistanceFromCenter:null!==(f=null===(p=o.opacity)||void 0===p?void 0:p.opacityDistanceFromCenter)&&void 0!==f?f:50},smoothScroll:null!==(d=o.smoothScroll)&&void 0!==d&&d},this.sections=document.querySelectorAll(this.options.sectionSelector),this.onSectionScroll=this.onSectionScroll.bind(this),this.boundOnScroll=this.onScroll.bind(this),window.addEventListener("scroll",(function(){var t;h.boundOnScroll(),(null===(t=h.options.opacity)||void 0===t?void 0:t.enabled)&&h.onSectionScroll()})),this.options.smoothScroll&&this.setMoothScroll()};return t.prototype.setMoothScroll=function(){for(var t=document.querySelectorAll(this.options.targetSelector),o=function(o){t[o].addEventListener("click",(function(e){e.preventDefault();var n=t[o].getAttribute("href");document.querySelector(n).scrollIntoView({behavior:"smooth"})}))},e=0;e<t.length;e++)o(e)},t.prototype.currentActiveSection=function(){var t=(document.documentElement.scrollTop||document.body.scrollTop)+this.options.topOffset;return Array.from(this.sections).find((function(o){var e=o.offsetTop,n=e+o.offsetHeight;return t>=e&&t<n}))},t.prototype.onSectionScroll=function(){var t=this,o=window.innerHeight,e=window.scrollY||window.pageYOffset||document.body.scrollTop+(document.documentElement&&document.documentElement.scrollTop||0);this.sections.forEach((function(n){var i=n.offsetTop,r=n.offsetHeight,s=i+r,l=Math.abs(e-i),c=Math.abs(e+o-s),a=1,u=t.options.opacity.opacityDistanceFromCenter;if(l<=u||c<=u)a=1;else{var p=o/2-(i+r/2-e);if(Math.abs(p)<=u)a=1;else{var f=o/2+r/2-u;a=1-Math.min(1,Math.abs(p)/f)}}n.style.opacity=a.toString()}))},t.prototype.getActiveMenuItem=function(t){if(t){var o=t.getAttribute("id");return this.menuList.querySelector("[".concat(this.options.hrefAttribute,'="#').concat(o,'"]'))}},t.prototype.removeActiveLink=function(t){var o=this;void 0===t&&(t={}),this.menuList.querySelectorAll(this.options.targetSelector).forEach((function(t){var e;return(e=t.classList).remove.apply(e,o.options.activeClass)}))},t.prototype.makeActiveLink=function(t){var o;this.options.activeClass.some((function(o){return t.classList.contains(o)}))||(o=t.classList).add.apply(o,this.options.activeClass),t.scrollIntoView({behavior:"smooth"})},t.prototype.onScroll=function(){var t=this.currentActiveSection(),o=this.getActiveMenuItem(t);if(o&&(this.removeActiveLink({ignore:o}),this.makeActiveLink(o)),this.options.onLastScrollInView){var e=this.sections[this.sections.length-1],n=e.offsetTop,i=n+e.offsetHeight,r=(document.documentElement.scrollTop||document.body.scrollTop)+this.options.topOffset;r>=n&&r<i&&this.options.onLastScrollInView()}if(this.options.onFirstScrollInView){var s=this.sections[0].offsetTop;window.pageYOffset<=s&&this.options.onFirstScrollInView()}},t.prototype.bind=function(){var t=this;window.addEventListener("scroll",(function(){var o;t.boundOnScroll(),(null===(o=t.options.opacity)||void 0===o?void 0:o.enabled)&&t.onSectionScroll()}))},t.prototype.unbind=function(){var t=this;window.removeEventListener("scroll",(function(){var o;t.boundOnScroll(),(null===(o=t.options.opacity)||void 0===o?void 0:o.enabled)&&t.onSectionScroll()}))},t}();return e})()));