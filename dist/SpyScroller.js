!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("SpyScroller",[],e):"object"==typeof exports?exports.SpyScroller=e():t.SpyScroller=e()}(this,(()=>(()=>{"use strict";var t,e={d:(t,o)=>{for(var n in o)e.o(o,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:o[n]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},o={};function n(t,e){return null!=e&&"undefined"!=typeof Symbol&&e[Symbol.hasInstance]?!!e[Symbol.hasInstance](t):t instanceof e}e.r(o),e.d(o,{ErrorMessages:()=>t,SpyScroller:()=>a}),function(t){t.INVALID_NUMBER="Number must be greater then 1"}(t||(t={}));var i,r=new((i=function(){}).prototype.initAnimation=function(t){var e=t.getAttribute("anim-library"),o=t.getAttribute("anim-type");e&&""!==e.trim()&&(t.classList.add(e.trim()),t.classList.add(o.trim()))},i.revertAnimation=function(t){t.forEach((function(t){var e=t,o=e.getAttribute("anim-library"),n=e.getAttribute("anim-type");o&&""!==o.trim()&&e.classList.remove(n.trim())}))},i.prototype.animateInitiater=function(t,e,o,n){return console.log(n.animLibrary),"attribute"!=n.animLibrary&&"attribute"!=n.animType?(t.animateTwoWay&&i.revertAnimation(o),void this.initAnimation(e)):"animate__animated"==e.getAttribute("anim-library")?(console.log("y"),t.animateTwoWay&&i.revertAnimation(o),void this.initAnimation(e)):void 0},i.prototype.animateLibrarySwitcher=function(t){switch(t){case"animate__animated":return"initAnimationAnimateCss";case"library2":return"method2";case"library3":return"method3";default:return""}},i),a=function(){var t=function(t,e){void 0===t&&(t="#navMenu"),void 0===e&&(e={});var o,i,r,a,l,s,c,u,d,p,m,f,h,v,y,S,b,w,g,A,L=this;if(this.isLastSection=!1,this.options={sectionSelector:null!==(o=e.sectionSelector)&&void 0!==o?o:"section",targetSelector:null!==(i=e.targetSelector)&&void 0!==i?i:"[data-jump]",topOffset:null!==(r=e.topOffset)&&void 0!==r?r:0,hrefAttribute:null!==(a=e.hrefAttribute)&&void 0!==a?a:"href",activeClass:Array.isArray(e.activeClass)?e.activeClass:["active"],onLastScrollInView:null!==(l=e.onLastScrollInView)&&void 0!==l?l:null,onFirstScrollInView:null!==(s=e.onFirstScrollInView)&&void 0!==s?s:null,onSectionChange:null!==(c=e.onSectionChange)&&void 0!==c?c:null,animation:{enabled:null!==(d=null===(u=e.animation)||void 0===u?void 0:u.enabled)&&void 0!==d&&d,animateTwoWay:null===(m=null===(p=e.animation)||void 0===p?void 0:p.animateTwoWay)||void 0===m||m,opacityDistanceFromCenter:null!==(h=null===(f=e.animation)||void 0===f?void 0:f.opacityDistanceFromCenter)&&void 0!==h?h:50},smoothScroll:null!==(v=e.smoothScroll)&&void 0!==v&&v,animationType:{enabled:null!==(S=null===(y=e.animationType)||void 0===y?void 0:y.enabled)&&void 0!==S&&S,animLibrary:null!==(w=null===(b=e.animationType)||void 0===b?void 0:b.animLibrary)&&void 0!==w?w:"attribute",animType:null!==(A=null===(g=e.animationType)||void 0===g?void 0:g.animType)&&void 0!==A?A:"attribute"}},!t)throw new Error("First argument cannot be empty");if("string"!=typeof t&&!n(t,HTMLElement))throw new TypeError("menu can be either string or an instance of HTMLElement");if("object"!=typeof e)throw new TypeError("options can only be of type object");if(this.menuList=n(t,HTMLElement)?t:document.querySelector(t),!this.menuList)throw new Error('No menu element found for selector "'.concat(t,'"'));this.sections=document.querySelectorAll(this.options.sectionSelector),this.onSectionScroll=this.onSectionScroll.bind(this),this.boundOnScroll=this.onScroll.bind(this),window.addEventListener("scroll",(function(){var t;L.boundOnScroll(),(null===(t=L.options.animation)||void 0===t?void 0:t.enabled)&&L.onSectionScroll()})),this.options.smoothScroll&&this.setMoothScroll()};return t.prototype.setMoothScroll=function(){for(var t=document.querySelectorAll(this.options.targetSelector),e=function(e){t[e].addEventListener("click",(function(o){o.preventDefault();var n=t[e].getAttribute("href");document.querySelector(n).scrollIntoView({behavior:"smooth"})}))},o=0;o<t.length;o++)e(o)},t.prototype.currentActiveSection=function(){var t=(document.documentElement.scrollTop||document.body.scrollTop)+this.options.topOffset;return Array.from(this.sections).find((function(e){var o=e.offsetTop,n=o+e.offsetHeight;return t>=o&&t<n}))},t.prototype.onSectionScroll=function(){var t=window.innerHeight,e=window.scrollY||window.pageYOffset||document.body.scrollTop+(document.documentElement&&document.documentElement.scrollTop||0);this.sections.forEach((function(o){var n=o.offsetTop,i=n+o.offsetHeight;Math.abs(e-n),Math.abs(e+t-i)}))},t.prototype.getActiveMenuItem=function(t){if(t){var e=t.getAttribute("id"),o=this.options.targetSelector;if("[data-jump]"===this.options.targetSelector){o="data-jump";var n=document.querySelectorAll("[data-jump]");return Array.from(n).find((function(t){return t.getAttribute(o)===e}))}return this.menuList.querySelector('[href="#'.concat(e,'"]'))}},t.prototype.removeActiveLink=function(t){var e=this;void 0===t&&(t={}),this.menuList.querySelectorAll(this.options.targetSelector).forEach((function(t){var o;return(o=t.classList).remove.apply(o,e.options.activeClass)}))},t.prototype.ActiveLinkChecker=function(t){var e;t.matches(this.options.targetSelector)&&!this.options.activeClass.some((function(e){return t.classList.contains(e)}))&&((e=t.classList).add.apply(e,this.options.activeClass),this.handleSubmenu(t)),t.scrollIntoView({behavior:"smooth"})},t.prototype.handleSubmenu=function(t){var e,o=t.closest("li");if(o){var n=o.closest("ul");if(n&&n.closest("li")){var i=n.closest("li");if(i)return(e=i.classList).add.apply(e,this.options.activeClass),!0}}return!1},t.prototype.onScroll=function(){var t=this.currentActiveSection();if(this.lastActiveSection!=t){this.lastActiveSection=t,this.executeSectionChanged(t);var e=this.getActiveMenuItem(t);this.options.animation.enabled&&r.animateInitiater(this.options.animation,t,this.sections,this.options.animationType),e&&(this.removeActiveLink({ignore:e}),this.ActiveLinkChecker(e)),this.options.onLastScrollInView&&this.executeLastSectionCallbackIfInView(t),this.options.onFirstScrollInView&&this.executeFistSectionCallbackIfInView(t)}},t.prototype.executeSectionChanged=function(t){this.options.onSectionChange(t)},t.prototype.executeLastSectionCallbackIfInView=function(t){var e=this.sections[this.sections.length-1],o=e.offsetTop,n=o+e.offsetHeight,i=(document.documentElement.scrollTop||document.body.scrollTop)+this.options.topOffset;i>=o&&i<n&&this.options.onLastScrollInView()},t.prototype.executeFistSectionCallbackIfInView=function(t){var e=this.sections[0].offsetTop;window.pageYOffset<=e&&this.options.onFirstScrollInView()},t.prototype.bind=function(){var t=this;window.addEventListener("scroll",(function(){var e;t.boundOnScroll(),(null===(e=t.options.animation)||void 0===e?void 0:e.enabled)&&t.onSectionScroll()}))},t.prototype.unbind=function(){var t=this;window.removeEventListener("scroll",(function(){var e;t.boundOnScroll(),(null===(e=t.options.animation)||void 0===e?void 0:e.enabled)&&t.onSectionScroll()}))},t}();return o})()));