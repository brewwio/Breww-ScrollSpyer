!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("SpyScroller",[],e):"object"==typeof exports?exports.SpyScroller=e():t.SpyScroller=e()}(this,(()=>(()=>{"use strict";var t,e={d:(t,o)=>{for(var i in o)e.o(o,i)&&!e.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:o[i]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},o={};function i(t,e){return null!=e&&"undefined"!=typeof Symbol&&e[Symbol.hasInstance]?!!e[Symbol.hasInstance](t):t instanceof e}e.r(o),e.d(o,{ErrorMessages:()=>t,SpyScroller:()=>a}),function(t){t.INVALID_NUMBER="Number must be greater then 1"}(t||(t={}));var n,r=new((n=function(){}).prototype.initAnimation=function(t){var e=t.getAttribute("anim-library"),o=t.getAttribute("anim-type");e&&""!==e.trim()&&(t.classList.add(e.trim()),t.classList.add(o.trim()))},n.revertAnimation=function(t){t.forEach((function(t){var e=t,o=e.getAttribute("anim-library"),i=e.getAttribute("anim-type");o&&""!==o.trim()&&e.classList.remove(i.trim())}))},n.prototype.animateInitiater=function(t,e,o,i){return console.log(i.animLibrary),"attribute"!=i.animLibrary&&"attribute"!=i.animType?(console.log("x"),t.animateTwoWay&&n.revertAnimation(o),void this.initAnimation(e)):"animate__animated"==e.getAttribute("anim-library")?(console.log("y"),t.animateTwoWay&&n.revertAnimation(o),void this.initAnimation(e)):void 0},n.prototype.animateLibrarySwitcher=function(t){switch(t){case"animate__animated":return"initAnimationAnimateCss";case"library2":return"method2";case"library3":return"method3";default:return""}},n),a=function(){var t=function(t,e){void 0===t&&(t="#navMenu"),void 0===e&&(e={});var o,n,r,a,l,s,c,u,d,m,p,f,v,h,y,S,b,w,g,A=this;if(this.isLastSection=!1,this.options={sectionSelector:null!==(o=e.sectionSelector)&&void 0!==o?o:"section",targetSelector:null!==(n=e.targetSelector)&&void 0!==n?n:"[data-jump]",topOffset:null!==(r=e.topOffset)&&void 0!==r?r:0,hrefAttribute:null!==(a=e.hrefAttribute)&&void 0!==a?a:"href",activeClass:Array.isArray(e.activeClass)?e.activeClass:["active"],onLastScrollInView:null!==(l=e.onLastScrollInView)&&void 0!==l?l:null,onFirstScrollInView:null!==(s=e.onFirstScrollInView)&&void 0!==s?s:null,animation:{enabled:null!==(u=null===(c=e.animation)||void 0===c?void 0:c.enabled)&&void 0!==u&&u,animateTwoWay:null===(m=null===(d=e.animation)||void 0===d?void 0:d.animateTwoWay)||void 0===m||m,opacityDistanceFromCenter:null!==(f=null===(p=e.animation)||void 0===p?void 0:p.opacityDistanceFromCenter)&&void 0!==f?f:50},smoothScroll:null!==(v=e.smoothScroll)&&void 0!==v&&v,animationType:{enabled:null!==(y=null===(h=e.animationType)||void 0===h?void 0:h.enabled)&&void 0!==y&&y,animLibrary:null!==(b=null===(S=e.animationType)||void 0===S?void 0:S.animLibrary)&&void 0!==b?b:"attribute",animType:null!==(g=null===(w=e.animationType)||void 0===w?void 0:w.animType)&&void 0!==g?g:"attribute"}},!t)throw new Error("First argument cannot be empty");if("string"!=typeof t&&!i(t,HTMLElement))throw new TypeError("menu can be either string or an instance of HTMLElement");if("object"!=typeof e)throw new TypeError("options can only be of type object");if(this.menuList=i(t,HTMLElement)?t:document.querySelector(t),!this.menuList)throw new Error('No menu element found for selector "'.concat(t,'"'));this.sections=document.querySelectorAll(this.options.sectionSelector),this.onSectionScroll=this.onSectionScroll.bind(this),this.boundOnScroll=this.onScroll.bind(this),window.addEventListener("scroll",(function(){var t;A.boundOnScroll(),(null===(t=A.options.animation)||void 0===t?void 0:t.enabled)&&A.onSectionScroll()})),this.options.smoothScroll&&this.setMoothScroll()};return t.prototype.setMoothScroll=function(){for(var t=document.querySelectorAll(this.options.targetSelector),e=function(e){t[e].addEventListener("click",(function(o){o.preventDefault();var i=t[e].getAttribute("href");document.querySelector(i).scrollIntoView({behavior:"smooth"})}))},o=0;o<t.length;o++)e(o)},t.prototype.currentActiveSection=function(){var t=(document.documentElement.scrollTop||document.body.scrollTop)+this.options.topOffset;return Array.from(this.sections).find((function(e){var o=e.offsetTop,i=o+e.offsetHeight;return t>=o&&t<i}))},t.prototype.onSectionScroll=function(){var t=window.innerHeight,e=window.scrollY||window.pageYOffset||document.body.scrollTop+(document.documentElement&&document.documentElement.scrollTop||0);this.sections.forEach((function(o){var i=o.offsetTop,n=i+o.offsetHeight;Math.abs(e-i),Math.abs(e+t-n)}))},t.prototype.getActiveMenuItem=function(t){if(t){var e=t.getAttribute("id"),o=this.options.targetSelector;if("[data-jump]"===this.options.targetSelector){o="data-jump";var i=document.querySelectorAll("[data-jump]");return Array.from(i).find((function(t){return t.getAttribute(o)===e}))}return this.menuList.querySelector('[href="#'.concat(e,'"]'))}},t.prototype.removeActiveLink=function(t){var e=this;void 0===t&&(t={}),this.menuList.querySelectorAll(this.options.targetSelector).forEach((function(t){var o;return(o=t.classList).remove.apply(o,e.options.activeClass)}))},t.prototype.ActiveLinkChecker=function(t){var e;t.matches(this.options.targetSelector)&&!this.options.activeClass.some((function(e){return t.classList.contains(e)}))&&((e=t.classList).add.apply(e,this.options.activeClass),this.handleSubmenu(t)),t.scrollIntoView({behavior:"smooth"})},t.prototype.handleSubmenu=function(t){var e,o=t.closest("li");if(o){var i=o.closest("ul");if(i&&i.closest("li")){var n=i.closest("li");if(n)return(e=n.classList).add.apply(e,this.options.activeClass),!0}}return!1},t.prototype.onScroll=function(){var t=this.currentActiveSection();if(this.lastActiveSection!=t){this.lastActiveSection=t;var e=this.getActiveMenuItem(t);this.options.animation.enabled&&r.animateInitiater(this.options.animation,t,this.sections,this.options.animationType),e&&(this.removeActiveLink({ignore:e}),this.ActiveLinkChecker(e)),this.options.onLastScrollInView&&this.executeLastSectionCallbackIfInView(t),this.options.onFirstScrollInView&&this.executeFistSectionCallbackIfInView(t)}},t.prototype.executeLastSectionCallbackIfInView=function(t){var e=this.sections[this.sections.length-1],o=e.offsetTop,i=o+e.offsetHeight,n=(document.documentElement.scrollTop||document.body.scrollTop)+this.options.topOffset;n>=o&&n<i&&this.options.onLastScrollInView()},t.prototype.executeFistSectionCallbackIfInView=function(t){var e=this.sections[0].offsetTop;window.pageYOffset<=e&&this.options.onFirstScrollInView()},t.prototype.bind=function(){var t=this;window.addEventListener("scroll",(function(){var e;t.boundOnScroll(),(null===(e=t.options.animation)||void 0===e?void 0:e.enabled)&&t.onSectionScroll()}))},t.prototype.unbind=function(){var t=this;window.removeEventListener("scroll",(function(){var e;t.boundOnScroll(),(null===(e=t.options.animation)||void 0===e?void 0:e.enabled)&&t.onSectionScroll()}))},t}();return o})()));