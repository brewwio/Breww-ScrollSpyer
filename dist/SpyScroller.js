!function(t,o){"object"==typeof exports&&"object"==typeof module?module.exports=o():"function"==typeof define&&define.amd?define("SpyScroller",[],o):"object"==typeof exports?exports.SpyScroller=o():t.SpyScroller=o()}(this,(()=>(()=>{"use strict";var t,o={d:(t,e)=>{for(var n in e)o.o(e,n)&&!o.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},o:(t,o)=>Object.prototype.hasOwnProperty.call(t,o),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},e={};o.r(e),o.d(e,{ErrorMessages:()=>t,SpyScroller:()=>r}),function(t){t.INVALID_NUMBER="Number must be greater then 1"}(t||(t={}));var n=function(){var t=function(){};return t.initAnimation=function(t){var o=t.getAttribute("anim-library"),e=t.getAttribute("breww-anim");o&&""!==o.trim()&&(t.classList.add(o.trim()),t.classList.add(e.trim()))},t.revertAnimation=function(t){t.forEach((function(t){var o=t,e=o.getAttribute("anim-library"),n=o.getAttribute("breww-anim");e&&""!==e.trim()&&o.classList.remove(n.trim())}))},t}();function i(t,o){return null!=o&&"undefined"!=typeof Symbol&&o[Symbol.hasInstance]?!!o[Symbol.hasInstance](t):t instanceof o}var r=function(){var t=function(t,o){void 0===t&&(t="#navMain"),void 0===o&&(o={});var e,n,r,s,l,c,a,u,d,f,p,v,m,h,S,y=this;if(this.isLastSection=!1,!t)throw new Error("First argument cannot be empty");if("string"!=typeof t&&!i(t,HTMLElement))throw new TypeError("menu can be either string or an instance of HTMLElement");if("object"!=typeof o)throw new TypeError("options can only be of type object");if(this.menuList=i(t,HTMLElement)?t:document.querySelector(t),!this.menuList)throw new Error('No menu element found for selector "'.concat(t,'"'));this.options={sectionSelector:null!==(e=o.sectionSelector)&&void 0!==e?e:"section",targetSelector:null!==(n=o.targetSelector)&&void 0!==n?n:"[data-jump]",topOffset:null!==(r=o.topOffset)&&void 0!==r?r:0,hrefAttribute:null!==(s=o.hrefAttribute)&&void 0!==s?s:"href",activeClass:Array.isArray(o.activeClass)?o.activeClass:["active"],onLastScrollInView:null!==(l=o.onLastScrollInView)&&void 0!==l?l:null,onFirstScrollInView:null!==(c=o.onFirstScrollInView)&&void 0!==c?c:null,animation:{type:null!==(u=null===(a=o.animation)||void 0===a?void 0:a.type)&&void 0!==u?u:"breww-opacity",enabled:null!==(f=null===(d=o.animation)||void 0===d?void 0:d.enabled)&&void 0!==f&&f,animateTwoWay:null===(v=null===(p=o.animation)||void 0===p?void 0:p.animateTwoWay)||void 0===v||v,opacityDistanceFromCenter:null!==(h=null===(m=o.animation)||void 0===m?void 0:m.opacityDistanceFromCenter)&&void 0!==h?h:50},smoothScroll:null!==(S=o.smoothScroll)&&void 0!==S&&S},this.sections=document.querySelectorAll(this.options.sectionSelector),this.onSectionScroll=this.onSectionScroll.bind(this),this.boundOnScroll=this.onScroll.bind(this),window.addEventListener("scroll",(function(){var t;y.boundOnScroll(),(null===(t=y.options.animation)||void 0===t?void 0:t.enabled)&&y.onSectionScroll()})),this.options.smoothScroll&&this.setMoothScroll()};return t.prototype.setMoothScroll=function(){for(var t=document.querySelectorAll(this.options.targetSelector),o=function(o){t[o].addEventListener("click",(function(e){e.preventDefault();var n=t[o].getAttribute("href");document.querySelector(n).scrollIntoView({behavior:"smooth"})}))},e=0;e<t.length;e++)o(e)},t.prototype.currentActiveSection=function(){var t=(document.documentElement.scrollTop||document.body.scrollTop)+this.options.topOffset;return Array.from(this.sections).find((function(o){var e=o.offsetTop,n=e+o.offsetHeight;return t>=e&&t<n}))},t.prototype.onSectionScroll=function(){var t=window.innerHeight,o=window.scrollY||window.pageYOffset||document.body.scrollTop+(document.documentElement&&document.documentElement.scrollTop||0);this.sections.forEach((function(e){var n=e.offsetTop,i=n+e.offsetHeight;Math.abs(o-n),Math.abs(o+t-i)}))},t.prototype.getActiveMenuItem=function(t){if(t){var o=t.getAttribute("id"),e=this.options.targetSelector;if("[data-jump]"===this.options.targetSelector){e="data-jump";var n=document.querySelectorAll("[data-jump]");return Array.from(n).find((function(t){return t.getAttribute(e)===o}))}return this.menuList.querySelector('[href="#'.concat(o,'"]'))}},t.prototype.removeActiveLink=function(t){var o=this;void 0===t&&(t={}),this.menuList.querySelectorAll(this.options.targetSelector).forEach((function(t){var e;return(e=t.classList).remove.apply(e,o.options.activeClass)}))},t.prototype.ActiveLinkChecker=function(t){var o;t.matches(this.options.targetSelector)&&!this.options.activeClass.some((function(o){return t.classList.contains(o)}))&&((o=t.classList).add.apply(o,this.options.activeClass),this.handleSubmenu(t)),t.scrollIntoView({behavior:"smooth"})},t.prototype.handleSubmenu=function(t){var o,e=t.closest("li");if(e){var n=e.closest("ul");if(n&&n.closest("li")){var i=n.closest("li");if(i)return(o=i.classList).add.apply(o,this.options.activeClass),!0}}return!1},t.prototype.onScroll=function(){var t=this.currentActiveSection();if(this.lastActiveSection!=t){this.lastActiveSection=t;var o=this.getActiveMenuItem(t);if(this.options.animation.animateTwoWay&&n.revertAnimation(this.sections),n.initAnimation(t),o&&(this.removeActiveLink({ignore:o}),this.ActiveLinkChecker(o)),this.options.onLastScrollInView){var e=this.sections[this.sections.length-1],i=e.offsetTop,r=i+e.offsetHeight,s=(document.documentElement.scrollTop||document.body.scrollTop)+this.options.topOffset;s>=i&&s<r&&this.options.onLastScrollInView()}if(this.options.onFirstScrollInView){var l=this.sections[0].offsetTop;window.pageYOffset<=l&&this.options.onFirstScrollInView()}}},t.prototype.bind=function(){var t=this;window.addEventListener("scroll",(function(){var o;t.boundOnScroll(),(null===(o=t.options.animation)||void 0===o?void 0:o.enabled)&&t.onSectionScroll()}))},t.prototype.unbind=function(){var t=this;window.removeEventListener("scroll",(function(){var o;t.boundOnScroll(),(null===(o=t.options.animation)||void 0===o?void 0:o.enabled)&&t.onSectionScroll()}))},t}();return e})()));