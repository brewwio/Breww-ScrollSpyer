"use strict";var t=function(){function t(t,n){var e,i,a,o,r,c,s,l,u,m,d,f,p,h,v;if(void 0===t&&(t="#navMenu"),void 0===n&&(n={}),this.isLastSection=!1,this.options={sectionSelector:null!==(e=n.sectionSelector)&&void 0!==e?e:"section",targetSelector:null!==(i=n.targetSelector)&&void 0!==i?i:"[data-jump]",topOffset:{min:0,max:0,values:[{topOffset:500}]},hrefAttribute:null!==(a=n.hrefAttribute)&&void 0!==a?a:"href",activeClass:Array.isArray(n.activeClass)?n.activeClass:["active"],onLastScrollInView:null!==(o=n.onLastScrollInView)&&void 0!==o?o:null,onFirstScrollInView:null!==(r=n.onFirstScrollInView)&&void 0!==r?r:null,onSectionChange:null!==(c=n.onSectionChange)&&void 0!==c?c:null,animation:{animType:null!==(l=null===(s=n.animation)||void 0===s?void 0:s.animType)&&void 0!==l?l:"attribute",enabled:null!==(m=null===(u=n.animation)||void 0===u?void 0:u.enabled)&&void 0!==m&&m,animateTwoWay:null===(f=null===(d=n.animation)||void 0===d?void 0:d.animateTwoWay)||void 0===f||f,opacityDistanceFromCenter:null!==(h=null===(p=n.animation)||void 0===p?void 0:p.opacityDistanceFromCenter)&&void 0!==h?h:50},smoothScroll:null!==(v=n.smoothScroll)&&void 0!==v&&v},!t)throw new Error("First argument cannot be empty");if(!("string"==typeof t||t instanceof HTMLElement))throw new TypeError("menu can be either string or an instance of HTMLElement");if("object"!=typeof n)throw new TypeError("options can only be of type object");if(this.menuList=t instanceof HTMLElement?t:document.querySelector(t),!this.menuList)throw new Error('No menu element found for selector "'.concat(t,'"'));this.sections=document.querySelectorAll(this.options.sectionSelector),this.boundOnScroll=this.onScroll.bind(this),this.bind(),this.options.smoothScroll&&this.setMoothScroll()}return t.prototype.setMoothScroll=function(){for(var t=document.querySelectorAll(this.options.targetSelector),n=function(n){t[n].addEventListener("click",(function(e){e.preventDefault();var i=t[n].getAttribute("href");document.querySelector(i).scrollIntoView({behavior:"smooth"})}))},e=0;e<t.length;e++)n(e)},t.prototype.currentActiveSection=function(){var t=this,n=(document.documentElement.scrollTop||document.body.scrollTop)+this.getTopOffset();return Array.from(this.sections).find((function(e){var i=t.getOffset(e),a=i+e.offsetHeight;return n>=i&&n<a}))},t.prototype.getTopOffset=function(){var t=window.innerWidth,n=200;if(Array.isArray(this.options.topOffset))for(var e=0,i=this.options.topOffset;e<i.length;e++){var a=i[e];(!a.minWidth||t>=a.minWidth)&&(!a.maxWidth||t<=a.maxWidth)&&(n=a.topOffset)}else"number"==typeof this.options.topOffset&&(n=this.options.topOffset);return console.log("topoffset"+n),n},t.prototype.getOffset=function(t,n){if(void 0===n&&(n=!1),!t)return 0;var e=t.offsetParent;return this.getOffset(e,n)+(n?t.offsetLeft:t.offsetTop)},t.prototype.getActiveMenuItem=function(t){if(t){var n=t.getAttribute("id"),e=this.options.targetSelector;if("[data-jump]"===this.options.targetSelector){e="data-jump";var i=document.querySelectorAll("[data-jump]");return Array.from(i).find((function(t){return t.getAttribute(e)===n}))}return this.menuList.querySelector('[href="#'.concat(n,'"]'))}},t.prototype.removeActiveLink=function(t){var n=this;this.menuList.querySelectorAll(this.options.targetSelector).forEach((function(t){var e;return(e=t.classList).remove.apply(e,n.options.activeClass)}))},t.prototype.ActiveLinkChecker=function(t){var n;t.matches(this.options.targetSelector)&&!this.options.activeClass.some((function(n){return t.classList.contains(n)}))&&((n=t.classList).add.apply(n,this.options.activeClass),this.handleSubmenu(t)),t.scrollIntoView({behavior:"smooth"})},t.prototype.handleSubmenu=function(t){var n,e=t.closest("li");if(e){var i=e.closest("ul");if(i&&i.closest("li")){var a=i.closest("li");if(a)return(n=a.classList).add.apply(n,this.options.activeClass),!0}}return!1},t.prototype.onScroll=function(){var t=this.currentActiveSection();if(this.lastActiveSection!=t){this.lastActiveSection=t,this.executeSectionChanged(t,this.sections);var n=this.getActiveMenuItem(t);n&&(this.removeActiveLink({ignore:n}),this.ActiveLinkChecker(n)),this.options.onLastScrollInView&&this.executeLastSectionCallbackIfInView(t),this.options.onFirstScrollInView&&this.executeFistSectionCallbackIfInView(t)}},t.prototype.executeSectionChanged=function(t,n){this.options.onSectionChange(t,n,this.options.animation)},t.prototype.executeLastSectionCallbackIfInView=function(t){},t.prototype.executeFistSectionCallbackIfInView=function(t){},t.prototype.bind=function(){this.boundOnScroll=this.onScroll.bind(this),window.addEventListener("scroll",this.boundOnScroll)},t.prototype.unbind=function(){window.removeEventListener("scroll",this.boundOnScroll),this.boundOnScroll=null},t.prototype.getCurrentSection=function(t){void 0===t&&(t=!1);var n=null;return t&&(n=this.currentSectionChild()),{currentActiveSectionElement:this.currentActiveSection(),currentActiveSectionIndex:Array.from(this.sections).indexOf(this.currentActiveSection()),currentSectionId:this.currentActiveSection().getAttribute("id"),currentSectionDataList:this.currentActiveSection().attributes,currentSectionClassList:this.currentActiveSection().classList,currentSectionChildElementCount:this.currentActiveSection().childElementCount,currentSectionFirstChild:this.currentActiveSection().firstElementChild,currentSectionLastChild:this.currentActiveSection().lastElementChild,currentSectiionChildElementNclass:n}},t.prototype.currentSectionChild=function(){for(var t=this.currentActiveSection().children,n=0;n<t.length;n++){for(var e=t[n],i={},a=0;a<e.attributes.length;a++){var o=e.attributes[a];i[o.name]=o.value}Array.from(e.classList);e.tagName}},t}();function n(t,n,e,i){return new(e||(e=Promise))((function(a,o){function r(t){try{s(i.next(t))}catch(t){o(t)}}function c(t){try{s(i.throw(t))}catch(t){o(t)}}function s(t){var n;t.done?a(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(r,c)}s((i=i.apply(t,n||[])).next())}))}function e(t,n){var e,i,a,o,r={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function c(c){return function(s){return function(c){if(e)throw new TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(r=0)),r;)try{if(e=1,i&&(a=2&c[0]?i.return:c[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,c[1])).done)return a;switch(i=0,a&&(c=[2&c[0],a.value]),c[0]){case 0:case 1:a=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,i=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(!(a=r.trys,(a=a.length>0&&a[a.length-1])||6!==c[0]&&2!==c[0])){r=0;continue}if(3===c[0]&&(!a||c[1]>a[0]&&c[1]<a[3])){r.label=c[1];break}if(6===c[0]&&r.label<a[1]){r.label=a[1],a=c;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(c);break}a[2]&&r.ops.pop(),r.trys.pop();continue}c=n.call(t,r)}catch(t){c=[6,t],i=0}finally{e=a=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}}var i=[],a=[];function o(t,n){if(t&&"undefined"!=typeof document){var e,o=!0===n.prepend?"prepend":"append",r=!0===n.singleTag,c="string"==typeof n.container?document.querySelector(n.container):document.getElementsByTagName("head")[0];if(r){var s=i.indexOf(c);-1===s&&(s=i.push(c)-1,a[s]={}),e=a[s]&&a[s][o]?a[s][o]:a[s][o]=l()}else e=l();65279===t.charCodeAt(0)&&(t=t.substring(1)),e.styleSheet?e.styleSheet.cssText+=t:e.appendChild(document.createTextNode(t))}function l(){var t=document.createElement("style");if(t.setAttribute("type","text/css"),n.attributes)for(var e=Object.keys(n.attributes),i=0;i<e.length;i++)t.setAttribute(e[i],n.attributes[e[i]]);var a="prepend"===o?"afterbegin":"beforeend";return c.insertAdjacentElement(a,t),t}}o(":root {\n  --animate-duration: 1s;\n  --animate-delay: 1s;\n  --animate-repeat: 1;\n}\n",{});o(".animated {\n  -webkit-animation-duration: var(--animate-duration);\n          animation-duration: var(--animate-duration);\n  -webkit-animation-fill-mode: both;\n          animation-fill-mode: both;\n}\n\n.animated.infinite {\n  -webkit-animation-iteration-count: infinite;\n          animation-iteration-count: infinite;\n}\n\n.animated.repeat-1 {\n  -webkit-animation-iteration-count: var(--animate-repeat);\n          animation-iteration-count: var(--animate-repeat);\n}\n\n.animated.repeat-2 {\n  -webkit-animation-iteration-count: calc(var(--animate-repeat) * 2);\n          animation-iteration-count: calc(var(--animate-repeat) * 2);\n}\n\n.animated.repeat-3 {\n  -webkit-animation-iteration-count: calc(var(--animate-repeat) * 3);\n          animation-iteration-count: calc(var(--animate-repeat) * 3);\n}\n\n.animated.delay-1s {\n  -webkit-animation-delay: var(--animate-delay);\n          animation-delay: var(--animate-delay);\n}\n\n.animated.delay-2s {\n  -webkit-animation-delay: calc(var(--animate-delay) * 2);\n          animation-delay: calc(var(--animate-delay) * 2);\n}\n\n.animated.delay-3s {\n  -webkit-animation-delay: calc(var(--animate-delay) * 3);\n          animation-delay: calc(var(--animate-delay) * 3);\n}\n\n.animated.delay-4s {\n  -webkit-animation-delay: calc(var(--animate-delay) * 4);\n          animation-delay: calc(var(--animate-delay) * 4);\n}\n\n.animated.delay-5s {\n  -webkit-animation-delay: calc(var(--animate-delay) * 5);\n          animation-delay: calc(var(--animate-delay) * 5);\n}\n\n.animated.faster {\n  -webkit-animation-duration: calc(var(--animate-duration) / 2);\n          animation-duration: calc(var(--animate-duration) / 2);\n}\n\n.animated.fast {\n  -webkit-animation-duration: calc(var(--animate-duration) * 0.8);\n          animation-duration: calc(var(--animate-duration) * 0.8);\n}\n\n.animated.slow {\n  -webkit-animation-duration: calc(var(--animate-duration) * 2);\n          animation-duration: calc(var(--animate-duration) * 2);\n}\n\n.animated.slower {\n  -webkit-animation-duration: calc(var(--animate-duration) * 3);\n          animation-duration: calc(var(--animate-duration) * 3);\n}\n\n@media print, (prefers-reduced-motion: reduce) {\n  .animated {\n    -webkit-animation-duration: 1ms !important;\n            animation-duration: 1ms !important;\n    -webkit-transition-duration: 1ms !important;\n            transition-duration: 1ms !important;\n    -webkit-animation-iteration-count: 1 !important;\n            animation-iteration-count: 1 !important;\n  }\n\n  .animated[class*='Out'] {\n    opacity: 0;\n  }\n}\n",{});var r=function(){function t(){}return t.fadeUpAnimation=function(t){},t.fadeDownAnimation=function(t){console.log(t)},t.initAnimation=function(t){return n(this,void 0,void 0,(function(){var n;return e(this,(function(e){return(n=t.getAttribute("anim-type"))&&""!==n.trim()&&(t.classList.add("animated"),t.classList.add(n.trim())),[2]}))}))},t.revertAnimation=function(t){Array.from(t).forEach((function(t){var n=t.getAttribute("anim-type");n&&""!==n.trim()&&t.classList.remove(n.trim())}))},t.prototype.animateTwoWay=function(n,e,i){if(!i.enabled)return!1;if(!(n instanceof HTMLElement))throw new Error("First argument must be of type HTMLElement");if(!(e instanceof NodeList&&0!==e.length&&e[0]instanceof HTMLElement))throw new Error("Second argument must be of type NodeListOf<HTMLElement> and cannot be empty");t.revertAnimation(e),t.initAnimation(n)},t.prototype.animateOneWay=function(n,e){if(!e.enabled)return!1;if(!(n instanceof HTMLElement))throw new Error("First argument must be of type HTMLElement");t.initAnimation(n)},t}(),c=function(){function t(){}return t.Bewwopacity=function(t,n,e,i){var a=n/2-(t.offsetTop+t.offsetHeight/2-e),o=1-Math.min(1,Math.abs(a)/i);t.style.opacity=o.toString()},t}();exports.AnimateCss=r,exports.BrewwAnimations=c,exports.SpyScroller=t;
